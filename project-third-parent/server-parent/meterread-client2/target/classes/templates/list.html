<!DOCTYPE html>
<html>
<head>
    <title>水表生产监测平台</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-datetimepicker.min.css">
    <link rel="stylesheet" href="css/file-input.min.css">
</head>
<body>
<div style="padding: 15px">
    <div id="log-container" style="height: 450px; overflow-y: scroll; background: #333; color: #aaa; padding: 10px;">
        <div>
        </div>
    </div>
</div>
<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script src="js/date.js"></script>
<script src="js/bootstrap-datetimepicker.min.js"></script>
<script src="js/locales/bootstrap-datetimepicker.zh-CN.js"></script>
<script src="js/file-input.min.js"></script>
<script src="js/locales/file-input-zh.js"></script>
<script>
    // $(document).ready(function () {
    //     // 指定websocket路径
    //     var websocket = new WebSocket('ws://localhost:8080/log');
    //     websocket.onmessage = function (event) {
    //         // 接收服务端的实时日志并添加到HTML页面中
    //         $("#log-container div").append(event.data);
    //         // 滚动条滚动到最低部
    //         $("#log-container").scrollTop($("#log-container div").height() - $("#log-container").height());
    //     };
    // });
    var file = fileInput.files[0];
    var reader = new FileReader();
    reader.onloadend = function (evt) {
        if (evt.target.readyState == FileReader.DONE) {
            callback(evt.target.result);
        }
    };
    // 包含中文内容用gbk编码
    reader.readAsText(file, 'gbk');
</script>
</body>
</html>